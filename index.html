<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWP SERVER</title>
    <style>
        /* CSS Ø§Ù„Ø£ØµÙ„ÙŠ Ù…Ù† Ù…Ù„ÙÙƒ - Ù„Ù… ÙŠØªÙ… Ù„Ù…Ø³Ù‡ */
        :root {
            --bg-color-dark: #0a0a0a;
            --text-color-dark: #fff;
            --card-bg-dark: rgba(25, 25, 35, 0.85);
            --feature-card-bg-dark: rgba(45, 45, 65, 0.7);
            --border-color-dark: rgba(255, 255, 255, 0.1);
            --primary-color: #7289da;
            --primary-shadow-color: rgba(114, 137, 218, 0.7);
            --input-bg-dark: rgba(30, 30, 30, 0.8);
            --placeholder-color-dark: #ccc;
        }

        .light-mode {
            --bg-color-dark: #f0f2f5;
            --text-color-dark: #333;
            --card-bg-dark: rgba(255, 255, 255, 0.9);
            --feature-card-bg-dark: rgba(240, 240, 245, 0.9);
            --border-color-dark: rgba(0, 0, 0, 0.1);
            --input-bg-dark: rgba(255, 255, 255, 0.9);
            --placeholder-color-dark: #666;
        }

        body {
            font-family: Arial, sans-serif; /* Ø­Ø§ÙØ¸Øª Ø¹Ù„Ù‰ Ù‡Ø°Ø§ ÙƒÙ…Ø§ Ù‡Ùˆ ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ */
            background-color: var(--bg-color-dark);
            color: var(--text-color-dark);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
            overflow-x: hidden;
            position: relative;
        }

        .background-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://cdn.discordapp.com/attachments/1218768853755291660/1247071689255620618/IMG_4281.jpg?ex=665e7146&is=665d1fc6&hm=703848b30f8f11466ac135a5ac8f8306059d0426177894a73229b465715e4f45&');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
            z-index: -1;
            transition: opacity 0.3s ease;
        }

        .light-mode .background-image {
            opacity: 0.05;
        }

        header {
            background-color: var(--card-bg-dark);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color-dark);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 50px;
            margin-left: 10px;
        }

        .logo h1 {
            margin: 0;
            font-size: 1.8em;
            color: var(--primary-color);
            text-shadow: 0 0 8px var(--primary-shadow-color);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 0 0 5px var(--primary-shadow-color), 0 0 10px var(--primary-shadow-color);
            }
            to {
                text-shadow: 0 0 10px var(--primary-shadow-color), 0 0 20px var(--primary-shadow-color);
            }
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
        }

        nav ul li a {
            color: var(--text-color-dark);
            text-decoration: none;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        nav ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--primary-color);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            z-index: -1;
        }

        nav ul li a:hover::before {
            transform: translateX(0);
        }

        nav ul li a:hover {
            color: #fff;
        }

        .current-page {
            background-color: var(--primary-color);
            color: #fff !important;
        }

        .mode-toggle {
            background: var(--input-bg-dark);
            border: 1px solid var(--border-color-dark);
            color: var(--text-color-dark);
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        main {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .page-content {
            background-color: var(--card-bg-dark);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            width: 90%;
            max-width: 900px;
            margin-bottom: 20px;
            display: none;
            text-align: center;
            border: 1px solid var(--border-color-dark);
            box-sizing: border-box;
        }

        .page-content.active {
            display: block;
        }

        h2 {
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        h2::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary-color);
            border-radius: 5px;
        }

        .login-section {
            margin-bottom: 20px;
        }

        .login-section input[type="text"] {
            padding: 10px;
            border: 1px solid var(--border-color-dark);
            border-radius: 5px;
            background-color: var(--input-bg-dark);
            color: var(--text-color-dark);
            margin-left: 10px;
            width: 150px;
        }

        .login-section input::placeholder {
            color: var(--placeholder-color-dark);
        }

        .login-section button {
            background-color: var(--primary-color);
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .login-section button:hover {
            background-color: #5c6ea0;
        }

        .login-display {
            margin-top: 15px;
            font-size: 1.1em;
        }

        .visitor-counter {
            margin-top: 20px;
            font-size: 1.1em;
            color: var(--text-color-dark);
        }

        .features-grid, .rules-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            text-align: right;
            margin-top: 20px;
        }

        .feature-card {
            background-color: var(--feature-card-bg-dark);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--border-color-dark);
            animation: float 3s ease-in-out infinite alternate;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        .feature-card h3 {
            color: var(--primary-color);
            margin-top: 0;
        }

        .rules-list {
            display: flex;
            flex-direction: column;
        }

        .rules-list p {
            background-color: var(--feature-card-bg-dark);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color-dark);
            text-align: right;
        }

        .rating-input {
            margin-bottom: 20px;
        }

        .rating-input textarea {
            width: calc(100% - 22px);
            padding: 10px;
            border: 1px solid var(--border-color-dark);
            border-radius: 5px;
            background-color: var(--input-bg-dark);
            color: var(--text-color-dark);
            resize: vertical;
            min-height: 80px;
            margin-bottom: 10px;
            text-align: right;
        }

        .rating-input input::placeholder, .rating-input textarea::placeholder {
            color: var(--placeholder-color-dark);
        }

        .reviews-section {
            margin-top: 30px;
            text-align: right;
        }

        .review-card {
            background-color: var(--feature-card-bg-dark);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color-dark);
            text-align: right;
        }

        .review-card strong {
            color: var(--primary-color);
        }

        .review-card p {
            margin-top: 5px;
            margin-bottom: 0;
        }

        footer {
            margin-top: auto;
            background-color: var(--card-bg-dark);
            color: var(--text-color-dark);
            text-align: center;
            padding: 15px;
            border-top: 1px solid var(--border-color-dark);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                text-align: center;
            }

            nav ul {
                flex-direction: column;
                gap: 10px;
                margin-top: 15px;
            }

            .logo {
                flex-direction: column;
            }

            .logo img {
                margin-left: 0;
                margin-bottom: 10px;
            }
        }

        /* --- CSS Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¶Ø§Ù ÙÙ‚Ø· Ù„Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØ§Ù„Ù…ÙŠØ²Ø§Øª --- */
        /* Ø£Ù„ÙˆØ§Ù† Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„Ø®Ø·Ø£ */
        :root {
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        
        .message-area {
            margin-top: 10px;
            font-weight: bold;
            display: none;
            padding: 10px;
            border-radius: 5px;
            color: #fff;
            text-align: center;
        }

        .message-area.success {
            background-color: var(--success-color);
            display: block;
        }

        .message-area.error {
            background-color: var(--error-color);
            display: block;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Discord ÙˆØ£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
        .discord-login-button {
            background-color: #7289da; /* Discord blue */
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
        }
        .discord-login-button:hover {
            background-color: #5c6ea0;
        }
        .discord-login-button img {
            height: 20px;
            width: 20px;
        }

        .logged-in-user-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px; /* Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØªØ¨Ø§Ø¹Ø¯ Ù…Ù…Ø§Ø«Ù„ Ù„Ù€ .login-display Ø§Ù„Ø£ØµÙ„ÙŠ */
            font-size: 1.1em; /* Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ø§Ù„Ø®Ø· */
            flex-wrap: wrap; /* Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù„ØªÙØ§Ù ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        }
        .logged-in-user-info img {
            border-radius: 50%;
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary-color);
        }
        .logged-in-user-info button {
            background-color: var(--error-color);
            color: #fff;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .logged-in-user-info button:hover {
            background-color: #c82333;
        }

        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† */
        #admin-panel {
            /* ØªØ³ØªØ®Ø¯Ù… Ø³ØªØ§ÙŠÙ„Ø§Øª .page-content Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        }
        .admin-review-item {
            display: flex;
            flex-direction: column; /* Stack info and actions vertically */
            background-color: var(--feature-card-bg-dark);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid var(--border-color-dark);
            text-align: right;
        }
        .admin-review-item .review-info {
            flex-grow: 1;
            margin-bottom: 10px; /* Space between info and buttons */
        }
        .admin-review-item .review-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end; /* Align buttons to the right */
            flex-wrap: wrap; /* Allow buttons to wrap */
        }
        .admin-review-item .review-actions button {
            padding: 8px 12px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .admin-review-item .review-actions .approve-btn {
            background-color: var(--success-color);
            color: #fff;
        }
        .admin-review-item .review-actions .approve-btn:hover {
            background-color: #218838;
        }
        .admin-review-item .review-actions .delete-btn {
            background-color: var(--error-color);
            color: #fff;
        }
        .admin-review-item .review-actions .delete-btn:hover {
            background-color: #c82333;
        }

        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ù‚Ø³Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© - ÙŠØ¹ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³ØªØ§ÙŠÙ„Ø§Øª .reviews-section Ùˆ .review-card */
        #previous-reviews-section {
            margin-top: 30px; /* Ø¥Ø¶Ø§ÙØ© ØªØ¨Ø§Ø¹Ø¯ Ø¹Ù† Ù‚Ø³Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠ */
            text-align: right;
        }
        #previous-reviews-section h2 {
            margin-bottom: 20px;
        }

        /* Ø³ØªØ§ÙŠÙ„Ø§Øª Ù‚Ø³Ù… Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± */
        #server-status-page {
            /* ØªØ³ØªØ®Ø¯Ù… Ø³ØªØ§ÙŠÙ„Ø§Øª .page-content Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        }
        .server-status-info {
            text-align: right;
            margin-top: 20px;
        }
        .server-status-info p {
            font-size: 1.2em;
            margin-bottom: 10px;
            display: flex; /* Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø¤Ø´Ø± ÙˆØ§Ù„Ù†Øµ Ø¨Ø´ÙƒÙ„ Ø£ÙÙ‚ÙŠ */
            align-items: center;
            justify-content: flex-end; /* Ù„Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ† */
        }
        .server-status-info p strong {
            color: var(--primary-color);
            margin-left: 5px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ù…Ø¤Ø´Ø± */
        }
        .status-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
        }
        .status-indicator.online {
            background-color: var(--success-color);
        }
        .status-indicator.offline {
            background-color: var(--error-color);
        }
    </style>
</head>
<body>
    <div class="background-image"></div>
    <header>
        <div class="logo">
            <img src="https://cdn.discordapp.com/attachments/1218768853755291660/1247071688928522300/IMG_4282.jpg?ex=665e7146&is=665d1fc6&hm=5e2b20f929d2919d115e51d957d17466540b953d10033036573c9f2255d61009&" alt="SWP Logo">
            <h1>SWP SERVER</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#" onclick="showPage('home-page', this)">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="#" onclick="showPage('features-page', this)">Ø§Ù„Ù…ÙŠØ²Ø§Øª</a></li>
                <li><a href="#" onclick="showPage('rules-page', this)">Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ†</a></li>
                <li><a href="#" onclick="showPage('rating-page', this)">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</a></li>
                <li><a href="#" onclick="showPage('server-status-page', this)">Ø­Ø§Ù„Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±</a></li>
                <li><a href="#" onclick="showPage('contact-page', this)">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
                <li id="admin-panel-nav-item" style="display: none;"><a href="#" onclick="showPage('admin-panel', this)">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</a></li>
            </ul>
        </nav>
        <div>
            <button id="mode-toggle" class="mode-toggle">
                <span id="mode-icon">â˜€ï¸</span>
            </button>
            <div id="auth-container">
                <button id="discord-login-btn" class="discord-login-button" onclick="loginWithDiscord()">
                    <img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/62594511d73c7344778d2238_Discord-Logo-White.png" alt="Discord Logo">
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Discord
                </button>
                <div id="logged-in-user-info" class="logged-in-user-info" style="display: none;">
                    <span id="logged-in-username"></span>
                    <img id="logged-in-avatar" src="" alt="User Avatar" style="display: none;">
                    <button onclick="logoutUser()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div id="home-page" class="page-content active">
            <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø³ÙŠØ±ÙØ± SWP!</h2>
            <p>Ù†Ø­Ù† Ù…Ø¬ØªÙ…Ø¹ Ø£Ù„Ø¹Ø§Ø¨ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ù…Ø­Ø¨ÙŠ Minecraft Ùˆ One Piece. Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§ Ù„Ø®ÙˆØ¶ Ù…ØºØ§Ù…Ø±Ø§Øª Ù„Ø§ ØªÙÙ†Ø³Ù‰ØŒ Ø¨Ù†Ø§Ø¡ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ§ØªØŒ ÙˆØ®ÙˆØ¶ Ù…Ø¹Ø§Ø±Ùƒ Ù…Ù„Ø­Ù…ÙŠØ© ÙÙŠ Ø¹Ø§Ù„Ù… Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ø¥Ø«Ø§Ø±Ø© ÙˆØ§Ù„ØªØ´ÙˆÙŠÙ‚.</p>
            <p>Ø³ÙŠØ±ÙØ±Ù†Ø§ ÙŠÙ‚Ø¯Ù… ØªØ¬Ø±Ø¨Ø© ÙØ±ÙŠØ¯Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø£ÙØ¶Ù„ Ù…Ø§ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†ØŒ Ù…Ø¹ ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…Ø³ØªÙ…Ø±Ø© ÙˆÙ…Ø¬ØªÙ…Ø¹ Ø¯Ø§Ø¹Ù… ÙˆÙ…Ø±Ø­Ø¨. Ø³ÙˆØ§Ø¡ ÙƒÙ†Øª ØªØ¨Ø­Ø« Ø¹Ù† ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ø¨Ù‚Ø§Ø¡ØŒ Ø­Ø±ÙˆØ¨ Ø§Ù„ÙØµØ§Ø¦Ù„ØŒ Ø£Ùˆ Ø¨Ø¨Ø³Ø§Ø·Ø© Ù…ÙƒØ§Ù† Ù„Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ ÙˆØ§Ù„Ø¯Ø±Ø¯Ø´Ø©ØŒ SWP Ù‡Ùˆ ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©.</p>
            <div class="login-section">
                <div id="visitor-counter" class="visitor-counter">
                    Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§Ø±: <span id="visitor-count">0</span>
                </div>
            </div>
        </div>

        <div id="features-page" class="page-content">
            <h2>Ù…ÙŠØ²Ø§Øª Ø³ÙŠØ±ÙØ±Ù†Ø§</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>Ù†Ø¸Ø§Ù… One Piece Ù…ØªÙƒØ§Ù…Ù„</h3>
                    <p>Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© One Piece ÙØ±ÙŠØ¯Ø© Ù…Ø¹ ÙÙˆØ§ÙƒÙ‡ Ø§Ù„Ø´ÙŠØ·Ø§Ù†ØŒ Ø§Ù„Ù‡Ø§ÙƒÙŠØŒ ÙˆÙ†Ø¸Ø§Ù… Ù‚ØªØ§Ù„ÙŠ Ù…ØªÙ‚Ø¯Ù…. Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ùƒ ÙƒÙ‚Ø±ØµØ§Ù† Ø£Ùˆ Ø¬Ù†Ø¯ÙŠ Ø¨Ø­Ø± ÙˆÙƒÙ† Ø£Ø³Ø·ÙˆØ±Ø© ÙÙŠ Ø¹Ø§Ù„Ù…Ù†Ø§.</p>
                </div>
                <div class="feature-card">
                    <h3>Ø¹ÙˆØ§Ù„Ù… Ù…ØªØ¹Ø¯Ø¯Ø©</h3>
                    <p>Ø§Ø³ØªÙƒØ´Ù Ø¹ÙˆØ§Ù„Ù… Ù…Ø®ØªÙ„ÙØ© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ø£Ø³Ø±Ø§Ø± ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª. Ù…Ù† Ø§Ù„Ø¨Ø­Ø§Ø± Ø§Ù„Ø´Ø§Ø³Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ø²Ø± Ø§Ù„ØºØ§Ù…Ø¶Ø©ØŒ ÙƒÙ„ Ø²Ø§ÙˆÙŠØ© ØªØ­Ù…Ù„ Ù…ØºØ§Ù…Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©.</p>
                </div>
                <div class="feature-card">
                    <h3>Ø§Ù‚ØªØµØ§Ø¯ ÙˆØ§Ù‚Ø¹ÙŠ</h3>
                    <p>Ø´Ø§Ø±Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù‚ØªØµØ§Ø¯ÙŠ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØŒ Ù‚Ù… Ø¨Ø§Ù„ØªØ¬Ø§Ø±Ø©ØŒ Ø£Ù†Ø´Ø¦ Ø§Ù„Ù…Ø²Ø§Ø±Ø¹ØŒ ÙˆÙƒÙ† Ø£ØºÙ†Ù‰ Ø´Ø®Øµ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±. Ø§Ù„ÙØ±Øµ Ù„Ø§ Ø­ØµØ± Ù„Ù‡Ø§!</p>
                </div>
                <div class="feature-card">
                    <h3>ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…Ø³ØªÙ…Ø±Ø©</h3>
                    <p>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙØ¹Ø§Ù„ÙŠØ§ØªÙ†Ø§ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª Ø­ØµØ±ÙŠØ© ÙˆØªØ¬Ø§Ø±Ø¨ Ù„Ø§ ØªÙÙ†Ø³Ù‰. Ù…Ù† Ø­Ø±ÙˆØ¨ Ø§Ù„Ø£Ø·Ø±Ø§Ù Ø¥Ù„Ù‰ Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ØŒ Ù‡Ù†Ø§Ùƒ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯.</p>
                </div>
                <div class="feature-card">
                    <h3>Ù…Ø¬ØªÙ…Ø¹ Ù†Ø´Ø·</h3>
                    <p>ÙƒÙ† Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† Ù…Ø¬ØªÙ…Ø¹ ÙˆØ¯ÙˆØ¯ ÙˆØ¯Ø§Ø¹Ù…. ÙƒÙˆÙ‘Ù† ØµØ¯Ø§Ù‚Ø§ØªØŒ Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ ÙØµØ§Ø¦Ù„ØŒ ÙˆØªÙØ§Ø¹Ù„ Ù…Ø¹ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù….</p>
                </div>
                <div class="feature-card">
                    <h3>Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ</h3>
                    <p>Ø§Ø­Ù…Ù Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ ÙˆØ¨Ù†Ø§Ø¡Ø§ØªÙƒ Ù…Ù† Ø§Ù„ØªØ®Ø±ÙŠØ¨ Ø¨ÙØ¶Ù„ Ù†Ø¸Ø§Ù… Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ØŒ ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù„Ø¹Ø¨ Ø¨Ø£Ù…Ø§Ù†.</p>
                </div>
            </div>
        </div>

        <div id="rules-page" class="page-content">
            <h2>Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø³ÙŠØ±ÙØ±</h2>
            <div class="rules-list">
                <p>1. ÙŠÙÙ…Ù†Ø¹ Ù…Ù†Ø¹Ù‹Ø§ Ø¨Ø§ØªÙ‹Ø§ Ø§Ù„ØºØ´ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙŠ Ø¨Ø±Ø§Ù…Ø¬ ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§.</p>
                <p>2. Ø§Ø­ØªØ±Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙˆØ§Ù„Ù…Ø´Ø±ÙÙŠÙ†. ÙŠÙÙ…Ù†Ø¹ Ø§Ù„Ø³Ø¨ ÙˆØ§Ù„Ù‚Ø°Ù Ø£Ùˆ Ø£ÙŠ Ø³Ù„ÙˆÙƒ ØºÙŠØ± Ù„Ø§Ø¦Ù‚.</p>
                <p>3. ÙŠÙÙ…Ù†Ø¹ Ø§Ø³ØªØºÙ„Ø§Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ (Bugs) ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£Ùˆ Ø§Ù„Ø³ÙŠØ±ÙØ±. ÙŠØ¬Ø¨ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù†Ù‡Ø§ ÙÙˆØ±Ù‹Ø§.</p>
                <p>4. Ù„Ø§ ØªÙØ³Ø¦ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø£Ùˆ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø¹Ø·Ø§Ø© Ù„Ùƒ.</p>
                <p>5. ÙŠÙÙ…Ù†Ø¹ ØªÙƒØ±Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø²Ø¹Ø¬Ø© (Spam) ÙÙŠ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©.</p>
                <p>6. ÙŠÙÙ…Ù†Ø¹ Ø§Ù„ØªØ±ÙˆÙŠØ¬ Ù„Ø³ÙŠØ±ÙØ±Ø§Øª Ø£Ùˆ Ù…ÙˆØ§Ù‚Ø¹ Ø£Ø®Ø±Ù‰ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± Ø¨Ø¯ÙˆÙ† Ø¥Ø°Ù†.</p>
                <p>7. ÙŠØ¬Ø¨ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªÙÙ†Ø´Ø± Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
            </div>
        </div>

        <div id="rating-page" class="page-content">
            <h2>ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h2>
            <div class="rating-input">
                <textarea id="review-text" placeholder="Ø§ÙƒØªØ¨ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ù‡Ù†Ø§..."></textarea>
                <button onclick="submitReview()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
                <div id="review-message" class="message-area" style="display: none;"></div>
            </div>
            <div id="reviews-list" class="reviews-section">
                <h3>Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª:</h3>
                </div>

            <div id="previous-reviews-section" class="reviews-section" style="display: none;">
                <h2>Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h2>
                <div id="approved-reviews-list" class="reviews-section">
                    <p id="no-approved-reviews" style="display: none;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø³Ø§Ø¨Ù‚Ø© Ù…Ø¹ØªÙ…Ø¯Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
                </div>
            </div>
        </div>

        <div id="server-status-page" class="page-content" style="display: none;">
            <h2>Ø­Ø§Ù„Ø© Ø³ÙŠØ±ÙØ± Ù…Ø§ÙŠÙ† ÙƒØ±Ø§ÙØª</h2>
            <div id="server-status-info" class="server-status-info">
                <p>Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ±: <strong>SWP Server</strong></p>
                <p>Ø§Ù„Ø­Ø§Ù„Ø©: <span id="server-status-indicator" class="status-indicator"></span> <strong id="server-status-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</strong></p>
                <p>Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†: <strong id="players-online">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</strong></p>
            </div>
        </div>

        <div id="contact-page" class="page-content">
            <h2>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
            <p>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø£Ùˆ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø±:</p>
            <p><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> support@swpserver.com</p>
            <p><strong>Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯:</strong> Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø³ÙŠØ±ÙØ± Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ù†Ø§ Ù…Ù† <a href="https://discord.gg/yourdiscordinvite" target="_blank" style="color: var(--primary-color); text-decoration: none;">Ù‡Ù†Ø§</a></p>
            <p><strong>ØªÙˆÙŠØªØ±:</strong> <a href="https://twitter.com/swpserver" target="_blank" style="color: var(--primary-color); text-decoration: none;">@SWPServer</a></p>
        </div>

        <div id="admin-panel" class="page-content" style="display: none;">
            <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†</h2>
            <p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©.</p>
            <div id="pending-reviews-list" class="reviews-section">
                <h3>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:</h3>
                <p id="no-pending-reviews" style="display: none;">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…Ø¹Ù„Ù‚Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 SWP SERVER. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total-visitor-count">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span></p>
    </footer>

    <script>
        // References to original elements
        const modeToggle = document.getElementById('mode-toggle');
        const modeIcon = document.getElementById('mode-icon');
        const visitorCountSpan = document.getElementById('visitor-count');
        const totalVisitorCountSpan = document.getElementById('total-visitor-count');

        // References to new elements for Discord login
        const authContainer = document.getElementById('auth-container');
        const discordLoginBtn = document.getElementById('discord-login-btn');
        const loggedInUserInfo = document.getElementById('logged-in-user-info');
        const loggedInUsernameSpan = document.getElementById('logged-in-username');
        const loggedInAvatarImg = document.getElementById('logged-in-avatar');

        // References to new elements for Reviews and Admin Panel
        const reviewMessage = document.getElementById('review-message');
        const reviewsList = document.getElementById('reviews-list');
        const adminPanelNavItem = document.getElementById('admin-panel-nav-item');
        const pendingReviewsList = document.getElementById('pending-reviews-list');
        const noPendingReviewsMsg = document.getElementById('no-pending-reviews');
        const approvedReviewsList = document.getElementById('approved-reviews-list');
        const noApprovedReviewsMsg = document.getElementById('no-approved-reviews');

        // References to new elements for Server Status
        const serverStatusText = document.getElementById('server-status-text');
        const serverStatusIndicator = document.getElementById('server-status-indicator');
        const playersOnline = document.getElementById('players-online');


        // --- Backend API Endpoints (Conceptual - YOU NEED TO IMPLEMENT THESE ON YOUR SERVER) ---
        // Ø³Ø·Ø± 494: Ø§Ø³ØªØ¨Ø¯Ù„ 'http://localhost:3000' Ø¨Ø¹Ù†ÙˆØ§Ù† URL Ù„Ø®Ø§Ø¯Ù…Ùƒ Ø§Ù„Ø®Ù„ÙÙŠ (Backend Server URL)
        // Ù…Ø«Ø§Ù„: 'https://api.yourdomain.com/api' Ø£Ùˆ 'https://your-backend-app.herokuapp.com/api'
        const BASE_API_URL = 'http://localhost:3000/api'; 

        // --- Discord OAuth2 Configuration ---
        // Ø³Ø·Ø± 499: ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù† Ø¨ÙˆØ§Ø¨Ø© Ù…Ø·ÙˆØ±ÙŠ Discord (Discord Developer Portal)
        // Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø¯ÙŠØ¯ (New Application)ØŒ Ø«Ù… Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ OAuth2 -> General
        // CLIENT_ID: Ù‡Ùˆ Ù…Ø¹Ø±Ù ØªØ·Ø¨ÙŠÙ‚Ùƒ (Application ID)
        // REDIRECT_URI: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù‡Ùˆ Ù†ÙØ³ Ø¹Ù†ÙˆØ§Ù† URL Ø§Ù„Ø°ÙŠ Ø³ØªØ¹ÙˆØ¯ Ø¥Ù„ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙÙŠ Discord.
        //              ÙˆÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙØ¶Ø§ÙÙ‹Ø§ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª OAuth2 ÙÙŠ Ø¨ÙˆØ§Ø¨Ø© Ù…Ø·ÙˆØ±ÙŠ Discord.
        //              Ù…Ø«Ø§Ù„: 'http://localhost:3000/auth/discord/callback' Ø£Ùˆ 'https://yourdomain.com/auth/discord/callback'
        const DISCORD_CLIENT_ID = 'YOUR_DISCORD_CLIENT_ID'; // <--- Ø¶Ø¹ Ù‡Ù†Ø§ Discord Client ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const DISCORD_REDIRECT_URI = 'http://localhost:3000/auth/discord/callback'; // <--- Ø¶Ø¹ Ù‡Ù†Ø§ Redirect URI Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const DISCORD_SCOPES = 'identify'; // Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‡ÙˆÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

        // --- Admin Discord User IDs (FOR DEMONSTRATION ONLY - SHOULD BE MANAGED ON BACKEND FOR SECURITY) ---
        // Ø³Ø·Ø± 508: ÙÙŠ Ù†Ø¸Ø§Ù… Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ø°Ø§ Ø§Ù„ØªØ­Ù‚Ù‚ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù… (Backend)
        // Ø§Ù„Ø®Ø§Ø¯Ù… Ù‡Ùˆ Ø§Ù„Ø°ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ…ØªÙ„Ùƒ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† ÙˆÙŠØªØ­Ù‚Ù‚ Ù…Ù†Ù‡Ø§
        // Ø£Ù†Ø§ Ø£Ø¶Ø¹Ù‡Ø§ Ù‡Ù†Ø§ ÙÙ‚Ø· Ù„ØªÙˆØ¶ÙŠØ­ ÙƒÙŠÙÙŠØ© Ø¹Ù…Ù„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© Ù…Ø¹ ÙÙƒØ±Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†.
        // Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù…Ø¹Ø±ÙØ§Øª Discord ID Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„Ù…Ø´Ø±ÙÙŠÙ†
        const ADMIN_DISCORD_IDS = ['YOUR_ADMIN_DISCORD_ID_1', 'YOUR_ADMIN_DISCORD_ID_2']; 
        // <--- Ø¶Ø¹ Ù‡Ù†Ø§ Ù…Ø¹Ø±ÙØ§Øª Discord ID Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ØªØ³Ù…Ø­ Ù„Ù‡Ù… Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†

        // --- ÙˆØ¸Ø§Ø¦Ù ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ (Theme Toggling) ---
        function setMode(mode) {
            if (mode === 'light') {
                document.body.classList.add('light-mode');
                modeIcon.textContent = 'ğŸŒ™'; // Moon icon for light mode (to switch to dark)
                localStorage.setItem('theme', 'light');
            } else {
                document.body.classList.remove('light-mode');
                modeIcon.textContent = 'â˜€ï¸'; // Sun icon for dark mode (to switch to light)
                localStorage.setItem('theme', 'dark');
            }
        }

        modeToggle.addEventListener('click', () => {
            if (document.body.classList.contains('light-mode')) {
                setMode('dark');
            } else {
                setMode('light');
            }
        });

        // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª ---
        function showPage(pageId, clickedLink = null) {
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ø±Ø¶
                if (page.id === 'previous-reviews-section' || page.id === 'server-status-page' || page.id === 'admin-panel') {
                    page.style.display = 'none';
                }
            });
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„Ù‡Ø§
                if (pageId === 'previous-reviews-section' || pageId === 'server-status-page' || pageId === 'admin-panel') {
                    targetPage.style.display = 'block';
                }
            }


            // ØªØ­Ø¯ÙŠØ« Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ù†Ø´Ø·
            document.querySelectorAll('nav ul li a').forEach(link => {
                link.classList.remove('current-page');
            });
            if (clickedLink) {
                clickedLink.classList.add('current-page');
            } else { 
                // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ù…Ø­Ø¯Ø¯ (Ù…Ø«Ù„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡)
                const navLink = document.querySelector(`nav ul li a[onclick*="showPage('${pageId}'"]`);
                if (navLink) navLink.classList.add('current-page');
            }

            // Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ù„ØµÙØ­Ø§Øª Ù…Ø¹ÙŠÙ†Ø©
            if (pageId === 'rating-page') { 
                loadReviews(); // ØªØ­Ù…ÙŠÙ„ Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
                loadPreviousReviews(); // ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©
            } else if (pageId === 'admin-panel') {
                loadPendingReviews();
            } else if (pageId === 'server-status-page') {
                updateServerStatus();
            }
        }

        // --- Ø¯Ù…Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„/Ø§Ù„Ø®Ø±ÙˆØ¬ Ùˆ Discord OAuth2 ---
        function loginWithDiscord() {
            const discordAuthUrl = `https://discord.com/oauth2/authorize?client_id=${DISCORD_CLIENT_ID}&redirect_uri=${encodeURIComponent(DISCORD_REDIRECT_URI)}&response_type=code&scope=${DISCORD_SCOPES}`;
            window.location.href = discordAuthUrl;
        }

        async function handleDiscordCallback() {
            const urlParams = new URLSearchParams(window.location.search);
            const code = urlParams.get('code');

            if (code) {
                try {
                    const response = await fetch(`${BASE_API_URL}/auth/discord`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ code, redirectUri: DISCORD_REDIRECT_URI })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Discord');
                    }

                    const data = await response.json();
                    localStorage.setItem('discord_user', JSON.stringify(data.user));
                    localStorage.setItem('session_token', data.sessionToken);

                    window.history.replaceState({}, document.title, window.location.pathname);
                    updateLoginDisplay();
                    showPage('home-page'); 
                } catch (error) {
                    console.error('Error during Discord OAuth callback:', error);
                    alert('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Discord: ' + error.message);
                    showPage('home-page'); 
                }
            }
        }

        async function logoutUser() {
            try {
                await fetch(`${BASE_API_URL}/auth/logout`, { method: 'POST' });
            } catch (error) {
                console.error('Error during backend logout:', error);
            }
            localStorage.removeItem('discord_user');
            localStorage.removeItem('session_token');
            updateLoginDisplay();
            showPage('home-page'); 
        }

        async function updateLoginDisplay() {
            const discordUser = JSON.parse(localStorage.getItem('discord_user'));
            const sessionToken = localStorage.getItem('session_token');

            if (discordUser && sessionToken) {
                try {
                    const response = await fetch(`${BASE_API_URL}/auth/verify`, {
                        headers: { 'Authorization': `Bearer ${sessionToken}` }
                    });
                    if (!response.ok) {
                        throw new Error('Session invalid');
                    }
                    const data = await response.json();

                    loggedInUsernameSpan.textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${data.user.username}`;
                    loggedInAvatarImg.src = `https://cdn.discordapp.com/avatars/${data.user.id}/${data.user.avatar}.png`;
                    loggedInAvatarImg.style.display = 'inline-block';
                    loggedInUserInfo.style.display = 'flex'; // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    discordLoginBtn.style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯

                    const isAdmin = data.user.isAdmin || ADMIN_DISCORD_IDS.includes(data.user.id);
                    
                    if (isAdmin) {
                        adminPanelNavItem.style.display = 'block';
                    } else {
                        adminPanelNavItem.style.display = 'none';
                    }

                } catch (error) {
                    console.error('Session verification failed:', error);
                    localStorage.removeItem('discord_user');
                    localStorage.removeItem('session_token');
                    loggedInUserInfo.style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    discordLoginBtn.style.display = 'inline-flex'; // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
                    adminPanelNavItem.style.display = 'none';
                }
            } else {
                loggedInUserInfo.style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                discordLoginBtn.style.display = 'inline-flex'; // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯
                adminPanelNavItem.style.display = 'none';
            }
        }

        // --- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± (Ø§Ù„Ø¢Ù† ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯) ---
        async function updateVisitorCount() {
            try {
                const response = await fetch(`${BASE_API_URL}/visitors/increment`, { method: 'POST' });
                if (!response.ok) {
                    throw new Error('Failed to increment visitor count');
                }
                const data = await response.json();
                visitorCountSpan.textContent = data.currentVisitors || 'Ø®Ø·Ø£';
                totalVisitorCountSpan.textContent = data.totalVisitors || 'Ø®Ø·Ø£';
            } catch (error) {
                console.error('Error updating visitor count:', error);
                visitorCountSpan.textContent = 'Ø®Ø·Ø£';
                totalVisitorCountSpan.textContent = 'Ø®Ø·Ø£';
            }
        }

        // --- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª (Ø§Ù„Ø¢Ù† ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ ÙˆÙ…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø´Ø±Ù) ---
        const badWords = ["fuck", "shit", "asshole", "bitch", "Ù„Ø¹Ù†Ø©", "Ù‚Ø±Ù", "ÙƒÙ„Ø¨", "Ø§Ø¨Ù† ÙƒÙ„Ø¨", "Ù…ØªØ®Ù„Ù", "Ø­ÙŠÙˆØ§Ù†"]; 

        function containsProfanity(text) {
            const lowerText = text.toLowerCase();
            return badWords.some(word => lowerText.includes(word));
        }

        function filterProfanity(text) {
            let filteredText = text;
            badWords.forEach(word => {
                const regex = new RegExp(word, 'gi');
                filteredText = filteredText.replace(regex, '*'.repeat(word.length));
            });
            return filteredText;
        }

        async function submitReview() {
            const reviewText = document.getElementById('review-text').value.trim();
            const discordUser = JSON.parse(localStorage.getItem('discord_user'));

            if (!discordUser) {
                showMessage('review-message', 'error', 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¥Ø±Ø³Ø§Ù„ ØªÙ‚ÙŠÙŠÙ….');
                return;
            }

            if (reviewText.length < 10) {
                showMessage('review-message', 'error', 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹ØŒ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ 10 Ø£Ø­Ø±Ù.');
                return;
            }
            if (reviewText.length > 500) {
                showMessage('review-message', 'error', 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ø§Ù‹ØŒ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 500 Ø­Ø±Ù.');
                return;
            }

            if (containsProfanity(reviewText)) {
                showMessage('review-message', 'error', 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙ„Ù…Ø§Øª ØºÙŠØ± Ù„Ø§Ø¦Ù‚Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„.');
                return;
            }

            try {
                const response = await fetch(`${BASE_API_URL}/reviews`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('session_token')}` 
                    },
                    body: JSON.stringify({
                        userId: discordUser.id,
                        username: discordUser.username,
                        avatar: discordUser.avatar,
                        text: reviewText
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ….');
                }

                showMessage('review-message', 'success', 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†.');
                document.getElementById('review-text').value = '';
            } catch (error) {
                console.error('Error submitting review:', error);
                showMessage('review-message', 'error', 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ' + error.message);
            }
        }

        async function loadReviews() {
            // Ù‡Ø°Ø§ ÙŠØ­Ù…Ù„ Ø£Ø­Ø¯Ø« 5 ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø© Ù„Ù„Ù‚Ø³Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ "Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª"
            try {
                const response = await fetch(`${BASE_API_URL}/reviews?status=approved&limit=5`); 
                if (!response.ok) {
                    throw new Error('Failed to load reviews');
                }
                const reviews = await response.json();
                reviewsList.innerHTML = '<h3>Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª:</h3>';
                if (reviews.length === 0) {
                    reviewsList.innerHTML += '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
                } else {
                    reviews.forEach(review => {
                        const reviewCard = document.createElement('div');
                        reviewCard.classList.add('review-card');
                        reviewCard.innerHTML = `
                            <strong>${review.username || 'Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ù‡ÙˆÙ„'}</strong>
                            <p>${filterProfanity(review.text)}</p>
                            <small>${new Date(review.createdAt).toLocaleString('ar-EG')}</small>
                        `;
                        reviewsList.appendChild(reviewCard);
                    });
                }
            } catch (error) {
                console.error('Error loading reviews:', error);
                reviewsList.innerHTML = '<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª.</p>';
            }
        }

        // --- Ø¬Ø¯ÙŠØ¯: ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø© Ù„Ù‚Ø³Ù… "Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©" ---
        async function loadPreviousReviews() {
            try {
                const response = await fetch(`${BASE_API_URL}/reviews?status=approved`); 
                if (!response.ok) {
                    throw new Error('Failed to load previous reviews');
                }
                const reviews = await response.json();
                approvedReviewsList.innerHTML = ''; 
                if (reviews.length === 0) {
                    noApprovedReviewsMsg.style.display = 'block';
                } else {
                    noApprovedReviewsMsg.style.display = 'none';
                    reviews.forEach(review => {
                        const reviewCard = document.createElement('div');
                        reviewCard.classList.add('review-card');
                        reviewCard.innerHTML = `
                            <strong>${review.username || 'Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ù‡ÙˆÙ„'}</strong>
                            <p>${filterProfanity(review.text)}</p>
                            <small>${new Date(review.createdAt).toLocaleString('ar-EG')}</small>
                        `;
                        approvedReviewsList.appendChild(reviewCard);
                    });
                }
            } catch (error) {
                console.error('Error loading previous reviews:', error);
                approvedReviewsList.innerHTML = '<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©.</p>';
                noApprovedReviewsMsg.style.display = 'none';
            }
        }

        // --- ÙˆØ¸Ø§Ø¦Ù Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ† ---
        async function loadPendingReviews() {
            pendingReviewsList.innerHTML = '<h3>Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©:</h3>'; 
            noPendingReviewsMsg.style.display = 'none';

            try {
                const response = await fetch(`${BASE_API_URL}/admin/reviews?status=pending`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('session_token')}` 
                    }
                });
                if (!response.ok) {
                    if (response.status === 403) { 
                        pendingReviewsList.innerHTML += '<p>Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†.</p>';
                    } else {
                        throw new Error('Failed to load pending reviews');
                    }
                    return;
                }
                const reviews = await response.json();

                if (reviews.length === 0) {
                    noPendingReviewsMsg.style.display = 'block';
                } else {
                    reviews.forEach(review => {
                        const reviewItem = document.createElement('div');
                        reviewItem.classList.add('admin-review-item');
                        reviewItem.innerHTML = `
                            <div class="review-info">
                                <strong>${review.username || 'Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¬Ù‡ÙˆÙ„'}</strong>
                                <p>${review.text}</p>
                                <small>Ù…Ø¹Ø±Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ${review.id || 'N/A'} | ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ${new Date(review.createdAt).toLocaleString('ar-EG')}</small>
                            </div>
                            <div class="review-actions">
                                <button class="approve-btn" onclick="approveReview('${review.id}')">Ù…ÙˆØ§ÙÙ‚Ø©</button>
                                <button class="delete-btn" onclick="deleteReview('${review.id}')">Ø­Ø°Ù</button>
                            </div>
                        `;
                        pendingReviewsList.appendChild(reviewItem);
                    });
                }
            } catch (error) {
                console.error('Error loading pending reviews:', error);
                pendingReviewsList.innerHTML += '<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù†Ùƒ Ù…Ø´Ø±Ù.</p>';
            }
        }

        async function approveReview(reviewId) {
            try {
                const response = await fetch(`${BASE_API_URL}/admin/reviews/${reviewId}/approve`, {
                    method: 'PUT',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('session_token')}` 
                    }
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'ÙØ´Ù„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…');
                }
                showMessage('review-message', 'success', 'ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!');
                loadPendingReviews(); 
                loadReviews(); 
                loadPreviousReviews(); 
            } catch (error) {
                console.error('Error approving review:', error);
                showMessage('review-message', 'error', 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ' + error.message);
            }
        }

        async function deleteReview(reviewId) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŸ')) {
                return;
            }
            try {
                const response = await fetch(`${BASE_API_URL}/admin/reviews/${reviewId}`, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('session_token')}` 
                    }
                });
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…');
                }
                showMessage('review-message', 'success', 'ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!');
                loadPendingReviews(); 
                loadReviews(); 
                loadPreviousReviews(); 
            } catch (error) {
                console.error('Error deleting review:', error);
                showMessage('review-message', 'error', 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ' + error.message);
            }
        }

        // --- Ø¬Ø¯ÙŠØ¯: Ø­Ø§Ù„Ø© Ø³ÙŠØ±ÙØ± Aternos ---
        async function updateServerStatus() {
            serverStatusText.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
            serverStatusIndicator.className = 'status-indicator'; 
            playersOnline.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';

            try {
                const response = await fetch(`${BASE_API_URL}/aternoss-status`);
                if (!response.ok) {
                    throw new Error('Failed to fetch server status');
                }
                const data = await response.json(); 

                if (data.status === 'online') {
                    serverStatusText.textContent = 'Ù…ØªØµÙ„';
                    serverStatusIndicator.classList.add('online');
                    playersOnline.textContent = data.players.online + '/' + data.players.max;
                } else {
                    serverStatusText.textContent = 'ØºÙŠØ± Ù…ØªØµÙ„';
                    serverStatusIndicator.classList.add('offline');
                    playersOnline.textContent = '0/0';
                }
            } catch (error) {
                console.error('Error fetching Aternos status:', error);
                serverStatusText.textContent = 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„';
                serverStatusIndicator.classList.add('offline');
                playersOnline.textContent = 'ØºÙŠØ± Ù…ØªØ§Ø­';
            }
        }

        // --- ÙˆØ¸ÙŠÙØ© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ ---
        function showMessage(elementId, type, message) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.className = `message-area ${type}`;
            element.style.display = 'block';
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000); 
        }

        // --- Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© ---
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'dark'; 
            setMode(savedTheme);

            if (window.location.pathname.includes('/auth/discord/callback')) {
                handleDiscordCallback();
            } else {
                updateLoginDisplay();
            }
            
            showPage('home-page'); 
            updateVisitorCount(); 
        });
    </script>
</body>
</html>
